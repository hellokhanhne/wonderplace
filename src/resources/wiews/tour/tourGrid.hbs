<!DOCTYPE html>
<html lang="en">
<head>
     <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
     <link rel="stylesheet" href=".\fontawesome-free-5.15.2-web\fontawesome-free-5.15.2-web\css\all.min.css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

    <link rel="stylesheet" type="text/css" href="/css/base.css"> 
    <link rel="stylesheet" type="text/css" href="/css/main.css">
    <link rel="stylesheet" type="text/css" href="/css/reponsive.css">
 <link rel="stylesheet"  href="/css/bookTour.css"> 
   
   
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
       

   span {
     opacity: 1 !important; 
     transition: all 0.4s ease-in; 
     transform: translateY(0px) !important; 
     display: inline-block;
   }
      
    .contain__img {
        padding: 20px 20px 0;
    }

    .contain__img img {
        width: 100%; vertical-align: top;
    }

    .container__left {
        top: 135px;
        position: fixed;
        
    right: 0;
    }

    

    .tab-pane {
    max-height: 510px;
    overflow-y: scroll;
    }

    #tourDetails {
        
        margin-bottom: 20px;
    }
    .p {
        color: black;
    }

    .bookTour__icon {
        color: rgb(204, 204, 39);
    }

    .tourdetail__nav {
        padding: 1rem 0 1rem 0;
        border-bottom: 1px solid #f1f1f1;
    }

    .contain__main-right {
        background-color: rgba(255,255,255,0.8);
    }

    .slider__img__contain div{
         height: 100%;
    }

    .slider__img__contain {
        height: 100%;
    }
    
    .page-link:focus {
	outline-style: none;
	box-shadow: none;
	border-color: transparent; 
}
   
</style>

   
</head>
<body style="overflow-x : hidden;margin: 0;" onload="loadingFunction();">

     <div class="ontop" id="ontopbro" onclick="ontop()">
        <i class="fas fa-arrow-alt-circle-up"></i>
    </div>

     <div id="loading">
        <img src="/image/load.gif" alt="">
    </div>

           {{> header}}
     <div class="container-fluid" style="display: flex;justify-content: center;">

      <div class="col-11">
       <div class="row " >
        <div class="col-md-12 col-xl-10 ">
           <form action="/search" method="GET">
            <div class="contain__seach">
                
                <div class="row  ml-3 mr-3 mt-2 mb-2 align-items-center">
                  <i class="fas mr-3 fa-map-marker-alt text-danger"></i>
                  <div>
                      <p>Destination</p>
                      <input type="text" name="search" value="" placeholder="Where do you go ?">
                  </div>
                </div>

                <div class="row  ml-3 mr-3 mt-2 mb-2 align-items-center text-primary">
                  <i class="fas mr-3 fa-calendar-check"></i>
                  <div>
                      <p>Check in</p>
                      <input type="date" name="fromDate" value="">
                  </div>
                </div>

                <div class="row  ml-3 mr-3 mt-2 mb-2 align-items-center text-primary">
                  <i class="fas mr-3 fa-calendar-check"></i>
                  <div>
                      <p>Check out</p>
                      <input type="date" name="toDate" value="">
                  </div>
                </div>
                 
                 <div class="row  ml-3 mr-3 align-items-center tourGrid__searchbtn-top">
                   <div class="div">
                       <button type="submit" href="" class="btn btn-background-slide btn-sm">Search</button>
                   </div>
                 </div>
            </div>
               </form>
            <div class="contain__covid">
                <div class="row align-items-center">
                    <div class="col-sm-1 text-center" style="font-size: 1.5rem;">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="col-sm-11">
                        <h5>COVID-19 alert: Travel requirements are changing rapidly, including need for pre-travel COVID-19 testing and quarantine on arrival.</h5>
                        <div class="row">
                            <a href="" class="mr-4 ml-3">Check restrictions for your trip.</a>
                             <a href="" class="ml-3" >Dismiss</a>
                        </div>
                        </div>
                </div>
            </div>

            <div class="contain__main mt-4">
                <form action="/filter/tour" method="get" onsubmit="event.preventDefault()" id="formDataControl">
                <div class="row" style="position: relative;">
                      
                      <div class="col-xl-3 col-lg-3 tourGrid_contain__left__left ">

                    <div class="contain__content_search">

                       <h3>Search by name</h3>

                        

                   <div class="row form-inline my-2 my-lg-0" style="margin-left: 0;">
                    <input class="form-control mr-sm-2 col-8 search__input" type="search" placeholder="Search" aria-label="Search" name="searchByName">
                    <button class="d-flex justify-content-center btn my-2 my-sm-0 col-2 check__index" id="searchNyName" ><i class="fas fa-search"></i></button>
                   </div>
                    </div>
                    
                    <div class="contain-filter">
                        <h5>Filter by</h5>
                        <input type="checkbox" id="vehicle1" name="vehicle1" value="Breakfast include">
                        <label for="vehicle1">Breakfast include</label><br>
                        <input type="checkbox" id="vehicle2" name="vehicle2" value="Hotel">
                        <label for="vehicle2">Hotel</label><br>
                        <input type="checkbox" id="vehicle3" name="vehicle3" value="All inclusive">
                        <label for="vehicle3">All inclusive</label><br>
                        <input type="checkbox" id="vehicle3" name="vehicle3" value="Pool">
                        <label for="vehicle3">Pool</label><br>
                        <input type="checkbox" id="vehicle3" name="vehicle3" value="Free wifi">
                        <label for="vehicle3">Free wifi</label><br>
                    </div>
                

                <div class="contain__rating mt-4    ">
                    <h4>Star rating</h4>
                   <div class="row" style="margin: 0 0px;">
                    <button class="col-sm-3" style="width: 100%; padding: 0;margin-bottom: 10px;margin-left: 2px;">1 <i class="fas fa-star" style="color: orange;margin-left: 5px;"></i></button>
                    <button class="col-sm-3" style="width: 100%; padding: 0;margin-bottom: 10px;margin-left: 2px;">2 <i class="fas fa-star" style="color: orange;margin-left: 5px;"></i></button>
                    <button class="col-sm-3" style="width: 100%; padding: 0;margin-bottom: 10px;margin-left: 2px;">3 <i class="fas fa-star" style="color: orange;margin-left: 5px;"></i></button>
                    <button class="col-sm-3" style="width: 100%; padding: 0;margin-bottom: 10px;margin-left: 2px;">4 <i class="fas fa-star" style="color: orange;margin-left: 5px;"></i></button>
                    <button class="col-sm-3" style="width: 100%; padding: 0;margin-bottom: 10px;margin-left: 2px;">5 <i class="fas fa-star" style="color: orange;margin-left: 5px;"></i></button>
                   </div>
                </div>

                    <div class="contain__Yourbudget mt-4">
                        <h4>Your budget</h4>
                        <input type="radio" id="male" name="price" value="200">
                        <label for="Less than 200$">Less than 200$</label><br>
                        <input type="radio" id="male" name="price" value="500">
                        <label for="Less than 500$">200$ to 500$</label><br>
                        <input type="radio" id="male" name="price" value="1000">
                        <label for="Less than 500$">500$ to 1000$</label><br>
                         <input type="radio" id="male" name="price" value="2000">
                        <label for="Less than 500$">1000$ to 2000$</label><br>
                         <input type="radio" id="male" name="price" value="5000">
                        <label for="Less than 500$">2000$ to 5000$</label><br>
                    </div>

                      <div class="contain__Yourbudget mt-4">
                        <h4>Guest rating</h4>
                        <input type="radio" class="check__index" id="male" name="gender" value="Lessthan200$">
                        <label for="Less than 200$">Any</label><br>
                        <input type="radio" class="check__index" id="male" name="gender" value="Lessthan500$">
                        <label for="Less than 500$">Wonderful 4.5+</label><br>
                        <input type="radio" class="check__index" id="male" name="gender" value="Lessthan500$">
                        <label for="Less than 500$">Very good 4+</label><br>
                         <input type="radio" class="check__index" id="male" name="gender" value="Lessthan500$">
                        <label for="Less than 500$">Good 3.5+</label><br>
                       
                    </div>
                   
                   <div class="text-center mt-3">
                       <button class="btn btn-success" id="btn__close__filter">Apply and close</button>
                   </div>

                </div>


                <div class="col-xl-9 col-lg-9">
                    <div class="mb-3 tourGrid__filter"> 
                        <button style="width: 100%;" id="Openfilter" class="btn text-center  btn-background-slide ">Filter in here !</button>
                    </div>
                    <div class="row" style="border-bottom: 1px dashed var(--primary_color);">
                  <div class="col-sm-6">
                        <a href="/search?search=&fromDate=&toDate=">Click me to see all tours <i class="fas fa-info ml-1"></i></a>
                  </div>
                  <div class="col-sm-2">
                      <span id="result__filter" class="text-danger">{{count}} results</span>
                  </div>
                   <div class="col-sm-4 row justify-content-around ">
                       <label for="cars" class="mr-1">Sort by</label>
                      <div>
                            <select name="sortTour" id="sortTour" class="contain__main-sort">
                                <option value="0">Recomended</option>
                                <option value="1">Price low to high</option>
                                <option value="2">Price high to low  </option>
                                <option value="3">News tour</option>
                                <option value="0">Best rating</option>
                            </select>
                            <br><br>
                           </div>
                           
                   </div>
                </div>

                <div id="contain__list-tour">
                    {{#each listSearch}}
                  
                      <div class="row tour__items ">
                        <div class="col-5">
                            <div id="slider{{this.slug}}" class="carousel slide slider__img__contain" data-ride="carousel" >
                            <div class="carousel-inner">
                                <div  class="carousel-item active">
                                
                                <div class="carousel__background-slider" style="background-image: url('/{{this.img1}}');" alt="First slide">

                                </div>

                                </div>
                                <div  class="carousel-item">
                                
                                <div class="carousel__background-slider" style="background-image: url('/{{this.img2}}');" alt="Second slide">

                                </div>

                                </div>
                                <div  class="carousel-item">
                                
                                <div class="carousel__background-slider" style="background-image: url('/{{this.img3}}');" alt="Third slide">

                                </div>

                                </div>
                            </div>
                            <a class="carousel-control-prev" href="#slider{{this.slug}}" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#slider{{this.slug}}" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                            </div>
                        </div>
                        <div class="col-7" style="display: flex;align-items: center;">
                           
                             <div class="col-12">
                                  <h4 style="color: #999;margin-bottom: 0;">{{this.name}}</h4>
                            <p>Journeys : <span class="ml-2" style="color: #1e90ff;">{{this.time}}</span> </p>

                            <div class="row col-12">
                                <div class="time">Time :    </div>
                                <div class="time__content ml-2" style="color: #1e90ff;">{{this.time}}</div>
                            </div>
                            <p>Start : <span class="ml-2" style="color: #1e90ff;">{{formatDate this.startDay}}</span></p>
                             <p>4.44/5 <b>In</b> 395 <b>Rate</b></p>
                             <div class="row">
                                <a href="" class="btn" data-toggle="modal" data-target="#book-tour" data-id="{{this.slug}}" style="margin-left: 15px; margin-right: 15px;">
                                <i class="fas fa-cart-plus"></i>
                                Book now
                               </a>

                               <a href="/tours/{{this.slug}}" class="btn btn__details">
                               <i class="fas fa-info-circle"></i>
                               Details
                               </a>
                             </div>
                             </div>
                        </div>
                    <div class="tour__items__price">
                        <h4>Price : {{this.price}} $</h4>
                    </div>
                     </div>
                   
                  
                      {{else}}
                      <h1 id="notFind">No matching results were found</h1>
                    {{/each}}
                     </div>
                
                   <nav aria-label="Page navigation example">
  <ul class="pagination" id="pagination">
    <li class="page-item">
      <a class="page-link " aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
     {{{pagination count}}}
    <li class="page-item">
      <a class="page-link" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
  </ul>
</nav>
                </div>
                </div>
            <input type="hidden" name="index" id="indexPage" value="1">

             </form>
              
            </div>

         </div>
         <div class="col-xl-2 tour__grid-left" style="margin-top: 1rem;">
             <img style="width: 100%;margin-bottom: 1rem" src="https://tpc.googlesyndication.com/simgad/4841151659954528133?" alt="">
             <img style="width: 100%;margin-bottom: 1rem" src="https://tpc.googlesyndication.com/simgad/4841151659954528133?" alt="">
         </div>
      </div>
          </div>
     </div>
       <!-- Modal -->
<div class="modal " tabindex="-1" id="book-tour" style="padding-left: 8px !important;" > 
  <div class="modal-dialog" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Your payment option</h5>
          <button  type="button" class="close ml-1" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" style="border-bottom: 1px solid #f1f1f1;">
          <div class="row" >
              <div class="col-2 text-center">
                  <i class="fas fa-shield-alt"></i>
              </div>
              <div class="col-10">
                  <b>
                      <p>
                          Free cancellation before Thu, Jul 1
                      </p>
                  </b>
                  <p>
                      You can change or cancel this stay if plans change. Because flexibility matters.
                  </p>
              </div>
          </div>
      </div>

      <div class="row d-flex justify-content-center">
          <div class="col-11 d-flex justify-content-between">
              <b>
                <p>
                    Pay now
                </p>
               </b>
               <b>
                   <h4>
                       $219
                   </h4>
               </b>
          </div>
          <div class="row col-11 d-flex justify-content-between">
          <div class="col-7">
              <ul>
                  <li>We will process your payment in your local currency</li>
                  <li>More ways to pay: use Debit/Credit card</li>
                  <li>You can use a valid Travelocity coupon</li>
              </ul>
          </div>
         
              <div class="col-5 text-right" style="padding-right: 0;">
              <p>Decresere 5%</p>
              <b><p>$210 total</p></b>
              <p>Includes taxes & fees</p>
              <a href="/bookTour/online" id="bookTouronline" class="btn btn-background-slide btn-sm ">Pay now</a>
              </div>
         
      </div>
 </div>
   <div class="row d-flex justify-content-center mb-5">
        <div class="col-11 d-flex justify-content-between pt-4">
              <b>
                <p>
                   Pay on departure
                </p>
               </b>
               <b>
                   <h4>
                       $299
                   </h4>
               </b>
          </div>
     

       <div class="row col-11 d-flex justify-content-between">
          <div class="col-7">
              <ul>
                  <li>You will not be charged until your stay</li>
                  <li>Pay the property directly in their local currency</li>
              </ul>
          </div>
         
              <div class="col-5 text-right" style="padding-right: 0;">
              <b><p>$299 total</p></b>
              <p>Includes taxes & fees</p>
              <a href="/bookTour/direct" id="bookTourdirect" class="btn btn-background-slide btn-sm">Pay direct</a>
              </div>
         </div> 
      </div>
      
    
    </div>
  </div>
</div>
 {{!-- end modal  --}}

           {{> footer}}
  
  
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
  <script src="/js/app.js"></script>
  <script src="/js/app2.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
      $('#Openfilter').click(function() {
          $(".tourGrid_contain__left__left").toggleClass('display__block');
      })
      $('#btn__close__filter').click(function(){
               $(".tourGrid_contain__left__left").toggleClass('display__block');
      })
      $( document ).ready(function() {
        AOS.init();
      
         $('#book-tour').on('show.bs.modal', function (event) {
            var button = $(event.relatedTarget) 
            var slug = button.data('id') 
            $('#bookTouronline').attr("href","/bookTour/online/"+slug)
            $('#bookTourdirect').attr("href","/bookTour/direct/"+slug)
            })

       document.querySelector('.btn__index').classList.add('pa__active')
       $('.btn__index').click(indexPage)
    
      $('#searchNyName').click(sendFormSubmit)
      $('#sortTour').change(sendFormSubmit)
      $("input[name='price']").change(sendFormSubmit)
    

       function sendFormSubmit() {
       
           
        $.ajax({
           type: "get",
           url: "/filter/tour",
           data: $('#formDataControl').serialize(), // serializes the form's elements.
           success: function(data)
           {

              loadData(data)
               $('#result__filter').html(data.count+` results`)
           
               pagination(data.count)
               $('.btn__index').click(indexPage);
                   }
         });
          
       } 
   
    function pagination(count) {
           
           var endPage = parseInt(count/5);
           if(count%5 != 0) {
             endPage++;
           }
            
            document.getElementById('pagination').innerHTML = "";
          
            for(var i = 1;i<=endPage;i++) {
                $('#pagination').append(` <li> <button class="btn__index" type="submit">`+i+`</button></li>`);
                
            }
       document.querySelector('.btn__index').classList.add('pa__active')

           $('#pagination').prepend(`  <li class="page-item">
      <a class="page-link " aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>`)
       
       document.getElementById('pagination').innerHTML += `<li class="page-item">
      <a class="page-link" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>`
         
         }
        
    function indexPage() {
         $('.btn__index').removeClass('pa__active');
           $(this).addClass('pa__active');
           $('#indexPage').val($(this).text())


          
            $.ajax({
           type: "get",
           url: "/filter/tour",
           data: $('#formDataControl').serialize(), // serializes the form's elements.
           success: function(data)
           {

              loadData(data)
               $('#result__filter').html(data.count+` results`)
             
           }
         });
    }
   
   function loadData(data) {
        if(data) {
             document.getElementById('contain__list-tour').innerHTML = "";
              
             for(let i =0;i<data.lists.length;i++) {

                    var currentdate = new Date(data.lists[i].startDay); 
                var datetime =currentdate.getDate() + "/"
                + (currentdate.getMonth()+1)  + "/" 
                + currentdate.getFullYear();

                 document.getElementById('contain__list-tour').innerHTML += `<div class="row tour__items ">
                        <div class="col-5">
                            <div id="slider`+data.lists[i].slug+`" class="carousel slide slider__img__contain" data-ride="carousel" >
                            <div class="carousel-inner">
                                <div  class="carousel-item active">
                                
                                <div class="carousel__background-slider" style="background-image: url('/`+data.lists[i].img1+`');" alt="First slide">

                                </div>

                                </div>
                                <div  class="carousel-item">
                                
                                <div class="carousel__background-slider" style="background-image: url('/`+data.lists[i].img2+`');" alt="Second slide">

                                </div>

                                </div>
                                <div  class="carousel-item">
                                
                                <div class="carousel__background-slider" style="background-image: url('/`+data.lists[i].img3+`');" alt="Third slide">

                                </div>

                                </div>
                            </div>
                            <a class="carousel-control-prev" href="#slider`+data.lists[i].slug+`" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#slider`+data.lists[i].slug+`" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                            </div>
                        </div>
                        <div class="col-7" style="display: flex;align-items: center;">
                           
                             <div class="col-12">
                                  <h4 style="color: #999;margin-bottom: 0;">`+data.lists[i].name+`</h4>
                            <p>Journeys : <span class="ml-2" style="color: #1e90ff;">`+data.lists[i].time+`</span> </p>

                            <div class="row col-12">
                                <div class="time">Time :    </div>
                                <div class="time__content ml-2" style="color: #1e90ff;">`+data.lists[i].time+`</div>
                            </div>
                            <p>Start : <span class="ml-2" style="color: #1e90ff;">`+datetime+`</span></p>
                             <p>4.44/5 <b>In</b> 395 <b>Rate</b></p>
                             <div class="row">
                                <a href="" class="btn" style="margin-left: 15px; margin-right: 15px;" data-toggle="modal" data-target="#book-tour" data-id='`+data.lists[i].slug+`'>
                                <i class="fas fa-cart-plus"></i>
                                Book now
                               </a>

                               <a href="/tours/`+data.lists[i].slug+`" class="btn btn__details">
                               <i class="fas fa-info-circle"></i>
                               Details
                               </a>
                             </div>
                             </div>
                        </div>
                    <div class="tour__items__price">
                        <h4>Price : `+data.lists[i].price+` $</h4>
                    </div>
                     </div>`
             }
           
              }
   }
       

// function readmore and readless

});
  </script>
 
</body>
</html>